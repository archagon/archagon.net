<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>{% if page.title %}{{ page.title }} â€” {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
<meta name="description" content="{{ site.description }}">
{% if page.title %}{% include social_metadata.html %}{% endif %}
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:300,400,500,600,700&amp;subset=latin-ext">

<!-- <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:300,300i,400,400i,700,700i&amp;subset=cyrillic,cyrillic-ext"> -->
<!-- <link href="//fonts.googleapis.com/css?family=Vollkorn:400,400i,600,600i,700,700i&amp;subset=cyrillic,cyrillic-ext,latin-ext" rel="stylesheet"> -->
<!-- <link href="https://fonts.googleapis.com/css?family=Muli:700,800,900" rel="stylesheet"> -->
<!-- <link href="https://fonts.googleapis.com/css?family=Cabin:400,500,600,700" rel="stylesheet"> -->

<link rel="stylesheet" href="{{ '/css/normalize.css' | prepend: site.baseurl }}">
<link rel="stylesheet" href="{{ '/css/main.css' | prepend: site.baseurl }}">
{% if page.extra_css %}{% for css in page.extra_css %}<link rel="stylesheet" href="{{ site.baseurl }}/css/{{ css }}.css">
{% endfor %}{% endif %}
<link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
<link rel="icon" href="{% include imagepath base='/' name='favicon/favicon-96x96.png' abs=false %}">

<!-- inline category colors -->
<style>
{% filterize scssify %}
{% for category in site.data.categories %}
.category-{{ category[0] }} {
    &.category-swatch {
        background-color: darken({{ category[1].color }}, 20%);
    }
    &.document-header-category {
        background-color: darken({{ category[1].color }}, 30%);
    }
    &.post-title { 
        background-color: darken({{ category[1].color }}, 20%);
        text-shadow: 0px 2px darken({{ category[1].color }}, 30%);
    }
}
{% endfor %}
{% endfilterize %}
</style>

<!-- footnotes -->
<link rel="stylesheet" href="{{ '/js/bigfoot-number.css' | prepend: site.baseurl }}">
<!-- <link rel="stylesheet" href="{{ '/js/bigfoot-default.css' | prepend: site.baseurl }}"> -->
<script type="text/javascript" src="{{ '/js/jquery.min.js' | prepend: site.baseurl }}" defer></script>
<script type="text/javascript" src="{{ '/js/bigfoot.min.js' | prepend: site.baseurl }}" defer></script>
<script type="text/javascript">
    // defer does not work for inline scripts
    window.addEventListener('DOMContentLoaded', function() {
        $.bigfoot({
            actionOriginalFN: "ignore",
            //// TODO: style like this: https://marco.org/2018/03/13/overcast41
            // numberResetSelector: "article",
            // buttonMarkup: (
            //     "<a href=\"#\" class=\"footnote-button\" " +
            //         "id=\"{{SUP:data-footnote-backlink-ref}}\" " +
            //         "data-footnote-identifier=\"{{FOOTNOTEID}}\" " +
            //         "data-footnote-style=\"default\"" +
            //         "alt=\"See Footnote {{FOOTNOTEID}}\" " +
            //         "rel=\"footnote\"" +
            //         "data-footnote-content=\"{{FOOTNOTECONTENT}}\">" +
            //             "{{FOOTNOTENUM}}" +
            //     "</a>"
            // )
        });
    });
</script>
<style>
.bigfoot-footnote__button:after
{
    color: #777;
}
.bigfoot-footnote__button
{
    width: 1.2em;
    height: 0.8em;
    /*padding: 0.5em;*/
    border-radius: 0.3em;
    font-size: 1.1em;
}
.bigfoot-footnote p
{
    font-size: 0.9em;
    /*text-align: left;
    -webkit-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;*/
}
</style>
</head>