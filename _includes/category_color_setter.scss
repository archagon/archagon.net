{% include categories.scss %}

// capture the name of the expected category color selector
{% if var_post.categories != empty %}
  {% capture category_color_name %}category-{{ var_post.categories[0] }}-color{% endcapture %}
{% else %}
  {% capture category_color_name %}category-default-color{% endcapture %}
{% endif %}

{{ category_color_name }}

@mixin category-color($category-color-name) {
  @if variable-exists($category-color-name) {
    #{{ var_post.selector_id }} {
      background-color: $category-color-name;
    }
  }
  @else {
    #{{ var_post.selector_id }} {
      background-color: $category-default-color;
    }
  }
}